Intent:  Test javascriptmvc 3.0.5 zip project
Goal: working cookbook tutorial based javascriptmvc-3.0.5.zip
DateCreated: 2011.07.26
DateLast: 2011.07.26 <or look this stuff up on github repo history>

Resources:
WEB: http://js.javascriptmvc305/
FILE: C:\Users\ChrisT\workspace\javascriptmvc305

COOKBOOKSTEPS: https://github.com/jupiterjs/javascriptmvc/blob/master/README <February 04, 2011>

<<<<<<<<<<<<<<<<<
>>>>>STEP 1 - Work Setup
<<<<<<<<<<<<<<<<<
--Extract javascriptmvc-3.0.5.zip to C:\Users\ChrisT\workspace\javascriptmvc305
--Configure Apache virtual host in httpd.conf 
<VirtualHost *:80>
   DocumentRoot "C:\Users\ChrisT\workspace\javascriptmvc305"
   ServerName js.javascriptmvc305
   <Directory "C:\Users\ChrisT\workspace\javascriptmvc305">
       Options Indexes MultiViews FollowSymLinks
       AllowOverride All
       Order allow,deny
       Allow from all
   </Directory>
</VirtualHost>
--Set in C:\Windows\System32\drivers\etc\hosts
127.0.0.1 js.javascriptmvc305 # javascriptmvc305 zip test
--Restart Apache
--Start this README file
--do git happiness
C:\>cd C:\Users\ChrisT\workspace\javascriptmvc305
C:\Users\ChrisT\workspace\javascriptmvc305>git init
C:\Users\ChrisT\workspace\javascriptmvc305>copy ..\..\.gitignore .
C:\Users\ChrisT\workspace\javascriptmvc305>git add .
C:\Users\ChrisT\workspace\javascriptmvc305>git commit -m "first commit javascriptmvc305"
<<<<<<<<<<<<<<<<<
>>>>>STEP 1 - TEST
<<<<<<<<<<<<<<<<<
--Browse: http://js.javascriptmvc305/README
SUCCESS>>SEE THIS FILE

<<<<<<<<<<<<<<<<<
>>>>>STEP 2 - Code CookBook
<<<<<<<<<<<<<<<<<
>>>>>BUG:1 BEGIN
>>Document https://github.com/jupiterjs/javascriptmvc/blob/master/README <February 04, 2011>
>>Document:
>>./js steal/generate/app cookbook
>>./js steal/generate/scaffold Cookbook.Models.Recipe
>>I used
>>js jquery\generate\app cookbook
>>js jquery\generate\scaffold Cookbook.Models.Recipe
>>As I found out that later version of steal do not scaffold
>>I also found out you should NOT update right now as things are in flux.
>>If you do update... probably best to fork on git and start at a revision have been through and re-work the tutorial
<<<<<BUG:1 END
C:\Users\ChrisT\workspace\javascriptmvc305>js jquery\generate\app cookbook
      cookbook/cookbook.css
      cookbook/cookbook.html
      cookbook/cookbook.js
      cookbook/controllers
      cookbook/docs
      cookbook/fixtures
      cookbook/funcunit.html
      cookbook/models
      cookbook/qunit.html
      cookbook/resources
      cookbook/scripts
      cookbook/scripts/build.html
      cookbook/scripts/build.js
      cookbook/scripts/clean.js
      cookbook/scripts/docs.js
      cookbook/test
      cookbook/test/funcunit
      cookbook/test/funcunit/cookbook_test.js
      cookbook/test/funcunit/funcunit.js
      cookbook/test/qunit
      cookbook/test/qunit/cookbook_test.js
      cookbook/test/qunit/qunit.js
      cookbook/views

C:\Users\ChrisT\workspace\javascriptmvc305>js jquery\generate\scaffold Cookbook.Models.Recipe
      cookbook/controllers
      cookbook/controllers/recipe_controller.js
      cookbook/fixtures
      cookbook/fixtures/recipes.json.get
      cookbook/models
      cookbook/models/recipe.js
      cookbook/test
      cookbook/test/funcunit
      cookbook/test/funcunit/recipe_controller_test.js
      cookbook/test/qunit
      cookbook/test/qunit/recipe_test.js
      cookbook/views
      cookbook/views/recipe
      cookbook/views/recipe/edit.ejs
      cookbook/views/recipe/init.ejs
      cookbook/views/recipe/list.ejs
      cookbook/views/recipe/show.ejs

C:\Users\ChrisT\workspace\javascriptmvc305>
--EDIT  cookbook/cookbook.js
			.models('recipe')
			.controllers('recipe')
C:\Users\ChrisT\workspace\javascriptmvc305>git add .
C:\Users\ChrisT\workspace\javascriptmvc305>git commit -m "generate cookbook app"
<<<<<<<<<<<<<<<<<
>>>>>STEP 2 - TEST
<<<<<<<<<<<<<<<<<
>>>>>BUG:2 BEGIN
>>Doc has Open callcenter.html in a browser
<<<<<BUG:2 END
--Browse: http://js.javascriptmvc305/cookbook/cookbook.html
SUCCESS>>See cookbook app... play, click

<<<<<<<<<<<<<<<<<
>>>>>STEP 3 - Test cookbook
<<<<<<<<<<<<<<<<<
--Edit test/funcunit/funcunit.js
steal
 .plugins("funcunit")
 .then("cookbook_test")
 .then("recipe_controller_test");
--Edit  test/qunit/qunit.js
steal
  .plugins("funcunit/qunit", "cookbook")
  .then("cookbook_test")
  .then("recipe_controller_test");
C:\Users\ChrisT\workspace\javascriptmvc305>git add .
C:\Users\ChrisT\workspace\javascriptmvc305>git commit -m "testing for cookbook app"
<<<<<<<<<<<<<<<<<
>>>>>STEP 3 - TEST
<<<<<<<<<<<<<<<<<
--Browse http://js.javascriptmvc305/cookbook/funcunit.html
SUCCESS>>Get window which lauches another window and runs test which pass and desplay test status.
--Browse http://js.javascriptmvc305/cookbook/qunit.html
SUCCESS>>Get window which runs test which pass and desplay test status.
C:\Users\ChrisT\workspace\javascriptmvc305>funcunit\envjs cookbook\qunit.html
MODULE cookbook

--cookbook testing works--
  PASS an assert is run
  done - fail 0, pass 1


ALL DONE - fail 0, pass 1
C:\Users\ChrisT\workspace\javascriptmvc305>
SUCCESS>>> See the test passed

C:\Users\ChrisT\workspace\javascriptmvc305>funcunit\envjs cookbook\funcunit.html

STARTING *firefox
MODULE cookbook test

--Copy Test--
steal.js INFO: Opening //cookbook/cookbook.html
steal.js INFO: Getting text on h1
  PASS welcome text, expected: "Welcome to JavaScriptMVC 3.0!" result: "Welcome to JavaScriptMVC 3.0!"
  done - fail 0, pass 1

MODULE recipe

--recipes present--
steal.js INFO: Opening //cookbook/cookbook.html
steal.js INFO: Getting size on .recipe
  PASS There is at least one recipe
  done - fail 0, pass 1

--create recipes--
steal.js INFO: Opening //cookbook/cookbook.html
steal.js INFO: Typing Ice on [name=name]
steal.js INFO: Typing Cold Water on [name=description]
steal.js INFO: Clicking [type=submit]
steal.js INFO: Waiting 0
steal.js INFO: Getting text on .recipe:nth-child(2) td:first
  PASS Typed Ice
  done - fail 0, pass 1

--edit recipes--
steal.js INFO: Opening //cookbook/cookbook.html
steal.js INFO: Typing Ice on [name=name]
steal.js INFO: Typing Cold Water on [name=description]
steal.js INFO: Clicking [type=submit]
steal.js INFO: Clicking .recipe:nth-child(2) a.edit
steal.js INFO: Typing  Water on .recipe input[name=name]
steal.js INFO: TyTap Water on .recipe input[name=description]
steal.js INFO: Clicking .update
steal.js INFO: Getting text on .recipe:nth-child(2) td:first
  PASS Typed Ice Water
steal.js INFO: Getting text on .recipe:nth-child(2) td:nth-child(2)
  PASS Typed Cold Tap Water
  done - fail 0, pass 2

--destroy--
steal.js INFO: Opening //cookbook/cookbook.html
steal.js INFO: Typing Ice on [name=name]
steal.js INFO: Typing Cold Water on [name=description]
steal.js INFO: Clicking [type=submit]
steal.js INFO: Clicking .recipe:nth-child(2) .destroy
  PASS
  done - fail 0, pass 1


ALL DONE 0, 6

STARTING *iexplore
MODULE cookbook test

--Copy Test--
steal.js INFO: Opening //cookbook/cookbook.html
steal.js INFO: Getting text on h1
  PASS welcome text, expected: "Welcome to JavaScriptMVC 3.0!" result: "Welcome to JavaScriptMVC 3.0!"
  done - fail 0, pass 1

MODULE recipe

--recipes present--
steal.js INFO: Opening //cookbook/cookbook.html
  FAIL waiting for size on .recipe
steal.js INFO: Getting size on .recipe
  FAIL There is at least one recipe
  done - fail 2, pass 2

--create recipes--
steal.js INFO: Opening //cookbook/cookbook.html
Terminate batch job (Y/N)? y

FAILURE>>>but the failure is due to IE blocking on the browser... going to forget this for now. 

<<<<<<<<<<<<<<<<<
>>>>>STEP 4 - Document cookbook
<<<<<<<<<<<<<<<<<
--Generate cookbook docs
C:\Users\ChrisT\workspace\javascriptmvc305>steal\js cookbook\scripts\docs.js
PROCESSING SCRIPTS

  ../steal/steal.js?cookbook,development
  ../steal/dev/dev.js
  ../cookbook/cookbook.js
  ../jquery/controller/controller.js
  ../jquery/class/class.js
  ../jquery/jquery.js
  ../jquery/lang/lang.js
  ../jquery/event/destroyed/destroyed.js
  ../jquery/event/event.js
  ../jquery/controller/subscribe/subscribe.js
  ../jquery/lang/openajax/openajax.js
  ../jquery/view/ejs/ejs.js
  ../jquery/view/view.js
  ../jquery/lang/rsplit/rsplit.js
  ../jquery/controller/view/view.js
  ../jquery/model/model.js
  ../jquery/dom/fixture/fixture.js
  ../jquery/dom/dom.js
  ../jquery/dom/form_params/form_params.js
  ../cookbook/models/recipe.js
  ../cookbook/controllers/recipe_controller.js

GENERATING DOCS -> cookbook/docs

Using default page layout.  Overwrite by creating: cookbook/summary.ejs

C:\Users\ChrisT\workspace\javascriptmvc305>
C:\Users\ChrisT\workspace\javascriptmvc305>git add .
C:\Users\ChrisT\workspace\javascriptmvc305>git commit -m "Docs for cookbook app"
<<<<<<<<<<<<<<<<<
>>>>>STEP 4 - TEST
<<<<<<<<<<<<<<<<<
--Browse: http://js.javascriptmvc305/cookbook/docs.html
SUCCESS>>See the docs!

<<<<<<<<<<<<<<<<<
>>>>>STEP 4 - Share
<<<<<<<<<<<<<<<<<
--Create github repo https://github.com/repositories/new
--Add it as a remote, tag and push
C:\Users\ChrisT\workspace\javascriptmvc305>git remote add origin git@github.com:christrees/javascriptmvc305.git
C:\Users\ChrisT\workspace\javascriptmvc305>git tag -a Step4 -m "Step4 Share Working cookbook"
C:\Users\ChrisT\workspace\javascriptmvc305>git push origin master
C:\Users\ChrisT\workspace\javascriptmvc305>git push origin --tags

<<<<<<<<<<<<<<<<<
>>>>>STEP 4 - TEST
<<<<<<<<<<<<<<<<<
--Browse https://github.com/christrees/javascriptmvc305
SUCCESS>>> See the Repo

<<<<<<<<<<<<<<<<<
>>>>>STEP 5 - Branch to Spools app and generate
<<<<<<<<<<<<<<<<<
C:\Users\ChrisT\workspace\javascriptmvc305>git branch spools
C:\Users\ChrisT\workspace\javascriptmvc305>git checkout spools
Switched to branch 'spools'
C:\Users\ChrisT\workspace\javascriptmvc305>git branch
  master
* spools
C:\Users\ChrisT\workspace\javascriptmvc305>js jquery\generate\app spools
      spools/spools.css
      spools/spools.html
      spools/spools.js
      spools/controllers
      spools/docs
      spools/fixtures
      spools/funcunit.html
      spools/models
      spools/qunit.html
      spools/resources
      spools/scripts
      spools/scripts/build.html
      spools/scripts/build.js
      spools/scripts/clean.js
      spools/scripts/docs.js
      spools/test
      spools/test/funcunit
      spools/test/funcunit/spools_test.js
      spools/test/funcunit/funcunit.js
      spools/test/qunit
      spools/test/qunit/spools_test.js
      spools/test/qunit/qunit.js
      spools/views

C:\Users\ChrisT\workspace\javascriptmvc305>js jquery\generate\scaffold Spools.Models.Token
      spools/controllers
      spools/controllers/token_controller.js
      spools/fixtures
      spools/fixtures/tokens.json.get
      spools/models
      spools/models/token.js
      spools/test
      spools/test/funcunit
      spools/test/funcunit/token_controller_test.js
      spools/test/qunit
      spools/test/qunit/token_test.js
      spools/views
      spools/views/token
      spools/views/token/edit.ejs
      spools/views/token/init.ejs
      spools/views/token/list.ejs
      spools/views/token/show.ejs

C:\Users\ChrisT\workspace\javascriptmvc305>
--EDIT  spools/spools.js
			.models('token')
			.controllers('token')
--Edit test/funcunit/funcunit.js
steal
 .plugins("funcunit")
 .then("spools_test")
 .then("token_controller_test");
--Edit  test/qunit/qunit.js
steal
  .plugins("funcunit/qunit", "spools")
  .then("spools_test")
  .then("token_controller_test");
C:\Users\ChrisT\workspace\javascriptmvc305>git add .
C:\Users\ChrisT\workspace\javascriptmvc305>git commit -m "Create Spools app on Spools branch"
<<<<<<<<<<<<<<<<<
>>>>>STEP 5 - TEST
<<<<<<<<<<<<<<<<<
--Browse http://js.javascriptmvc305/spools/spools.html
SUCCESS>> got exepected page
--Browse http://js.javascriptmvc305/spools/funcunit.html
SUCCESS>> got test that ran
--Browse http://js.javascriptmvc305/spools/qunit.html
SUCCESS>> got test that ran
--Run
C:\Users\ChrisT\workspace\javascriptmvc305>funcunit\envjs spools\qunit.html
failed to open file  file:/C:/Users/ChrisT/workspace/javascriptmvc305/spools/test/qunit/token_controller_test.js   JavaException:
java.io.FileNotFoundException: C:\Users\ChrisT\workspace\javascriptmvc305\spools\test\qunit\token_controller_test.js (The system c
annot find the file specified)
MODULE spools

--spools testing works--
  PASS an assert is run
  done - fail 0, pass 1


ALL DONE - fail 0, pass 1
???? IT PASSED but we have some file not found... ????

<<<<<<<<<<<<<<<<<
>>>>>STEP 6 - Start to create the spools grid
<<<<<<<<<<<<<<<<<
--First lets change the token model
--{"state": "created", "idCreator": "Christ", "idOwner": "game", "idGameBrd": "1", "idGamePos": "1",  "id": 1}
--Put this and 24 of it's friends in 
C:\Users\ChrisT\workspace\javascriptmvc305\spools\fixtures\tokens.json.get
--Now lets make a token view the grid we expect...
--We want a token icon in a grid... right now we use the idOwner text as the icon.
--EDIT - C:\Users\ChrisT\workspace\javascriptmvc305\spools\views\token\icon.ejs
<%for(var attribute in this.Class.attributes){%>
    <%if(attribute == 'id') continue;%>
    <%if(attribute == 'idOwner') {%>
        <span class='<%= attribute%>'>
            <%if (this[attribute] == 'game') {%>
                <a href='javascript://' class='buy'>PickMe</a>
            <%}else{this[attribute]}%>
        </span>
    <%}%>
<%}%>
--EDIT - C:\Users\ChrisT\workspace\javascriptmvc305\spools\views\token\grid.ejs
<h2>Game Grid</h2>
<table cellspacing='0px'>
<tr>
<%var a = 0; var r = 1; for(var i = 0; i < tokens.length ; i++){ a++; %>
    <%if( a == 6 ) { a = 1; r++; %> </tr><tr> <%}%>
	<td <%= tokens[i]%>>
		<%= $.View('//spools/views/token/icon',tokens[i])%>
	</td>
<%}%>
</tr></table>
--We want the default list view to be the icon grid
--EDIT - C:\Users\ChrisT\workspace\javascriptmvc305\spools\controllers\token_controller.js
 list: function( tokens ){
	$('#token').html(this.view('grid', {tokens:tokens} ));
 },
 --Try it... http://js.javascriptmvc305/spools/spools.html
 --Fix the main page
 --EDIT - C:\Users\ChrisT\workspace\javascriptmvc305\spools\spools.html
 --Looks ok git this
C:\Users\ChrisT\workspace\javascriptmvc305>git add .
C:\Users\ChrisT\workspace\javascriptmvc305>git commit -m "grid and icon view Spools app on Spools branch"
<<<<<<<<<<<<<<<<<
>>>>>STEP 6 - TEST
<<<<<<<<<<<<<<<<<
Browse - http://js.javascriptmvc305/spools/spools.html
SUCCESS>>
FAILURE>>
????>>

<<<<<<<<<<<<<<<<<
>>>>>STEP 7 - Click icon to pick
<<<<<<<<<<<<<<<<<
--We want the user to click on PickMe icon to pick that token space and have it show the owner who picked it.
--This is a controller action.  Lets add a pick action to the token_controller
--EDIT - C:\Users\ChrisT\workspace\javascriptmvc305\spools\controllers\token_controller.js
'token.created subscribe': function( called, token ){
	$("#token tbody").append( this.view("list", {tokens:[token]}) );
	$("#token form input[type!=submit]").val(""); //clear old vals
},
 /**
 * Creates and places the pick interface.
 * @param {jQuery} el The token's edit link element.
 */
'.pick click': function( el ){
	var token = el.closest('.token').model();
	token.elements().html(this.view('edit', token));
},
--OH... I guess i was thinking buy not pick when I created the icon... so change that
--EDIT - C:\Users\ChrisT\workspace\javascriptmvc305\spools\views\token\icon.ejs
                <a href='javascript://' class='pick'>PickMe</a>
--HUMMM... that didn't work as expected... I expected to get the edit view when I clicked...
--Turn on Firebug.. nothing obvious
--Now... his works on the normal list... go figure out what the normal list is doing...
--HUMM.. I used edit... I probably want to model this more like an update
--OK... I think I got this sort of worked out in my head... see if this works
--We want to pick up the coin when we click the PickMe and show that is is ours.
--SO... when we display the icon, we put an input field that will change the ownership to US <the current user>
--EDIT - C:\Users\ChrisT\workspace\javascriptmvc305\spools\views\token\icon.ejs
<%for(var attribute in this.Class.attributes){%>
    <%if(attribute == 'id') continue;%>
    <%if(attribute == 'idOwner') {%>
        <span class='<%= attribute%>'>
            <%if (this[attribute] == 'game') {%>
                <input type="hidden" value="CAT" name="idOwner"/>
                <a href='javascript://' class='pick'>PickMe</a>
            <%}else{%> <%= this[attribute]%> <%}%>
        </span>
    <%}%>
<%}%>
--NOW... when this is clicked, it is picked up by the .pick click that we setup in the controller
--.pick click grabs the token class and post the token form to update that does a AJAX post.
--the token.updated subscribed fucntion detects the token change it calls the show function (hope this is trigger by success of ajax ??)
--the show function redisplayes the token <which I changed to our icon view.
================OK====================C:\Users\ChrisT\workspace\javascriptmvc305>git status
# On branch spools
# Changes not staged for commit:
#   (use "git add <file>..." to update what will be committed)
#   (use "git checkout -- <file>..." to discard changes in working directory)
#
#       modified:   README
#       modified:   spools/controllers/token_controller.js
#       modified:   spools/views/token/icon.ejs
#
no changes added to commit (use "git add" and/or "git commit -a")
--Lets commit this
C:\Users\ChrisT\workspace\javascriptmvc305>git add .
C:\Users\ChrisT\workspace\javascriptmvc305>git commit -m "Click icon to pick token_controller"
<<<<<<<<<<<<<<<<<
>>>>>STEP 7 - TEST
<<<<<<<<<<<<<<<<<
Browse - http://js.javascriptmvc305/spools/spools.html
SUCCESS>> Seemed to work... click PickMe and it changes to CAT
?FAILURE>> woops... had a typo in my fixture... idGamePos 20 had id=10 C:\Users\ChrisT\workspace\javascriptmvc305>git status
warning: LF will be replaced by CRLF in spools/fixtures/tokens.json.get.
The file will have its original line endings in your working directory.
# On branch spools
# Changes to be committed:
#   (use "git reset HEAD <file>..." to unstage)
#
#       modified:   README
#       modified:   spools/fixtures/tokens.json.get
#

C:\Users\ChrisT\workspace\javascriptmvc305>git commit -m "fix fixture type"

<<<<<<<<<<<<<<<<<
>>>>>STEP 8 - Set a user ... somehow..
<<<<<<<<<<<<<<<<<
--OK... Users... the idea is to have a list of users... wait I don't need to know the list of the users
--I just need to know who I am... cookie
--http://javascriptmvc.com/docs.html#&who=jQuery.Model.List.Cookie
--But make sure this will be ok with the new steal
--http://forum.javascriptmvc.com/recent#topic/32525000000590273
--NOPE - No more steal.plugins
--Add cookie to steal
--EDIT  spools/spools.js
	'jquery/model',					// Ajax wrappers
        'jquery/model/list/cookie',
	'jquery/dom/fixture',			// simulated Ajax requests
--Add a user scaffold
C:\Users\ChrisT\workspace\javascriptmvc305>js jquery\generate\scaffold Spools.Models.User
      spools/controllers
      spools/controllers/user_controller.js
      spools/fixtures
      spools/fixtures/users.json.get
      spools/models
      spools/models/user.js
      spools/test
      spools/test/funcunit
      spools/test/funcunit/user_controller_test.js
      spools/test/qunit
      spools/test/qunit/user_test.js
      spools/views
      spools/views/user
      spools/views/user/edit.ejs
      spools/views/user/init.ejs
      spools/views/user/list.ejs
      spools/views/user/show.ejs

C:\Users\ChrisT\workspace\javascriptmvc305>
--EDIT spools\spools.js
	.models('token','user')						// loads files in models folder
	.controllers('token','user')					// loads files in controllers folder
--CRAP... started to have lots of issues
--OK... lost for serveral hours through ratholes attempting to learn structures and patterns
--See if I can summarize and catch up my memory <this readme> up so I don't get lost next time.
--What I wanted to do was setup the spools grid with clickable tokens that when clicked assigns to the user.
--This is where I ratholed pretty hard... because I started to mix and match views and events.
--If I have a GRID... I have -one user- a unique USER VIEW.  They don't need to know the whole world
--and if I'm down to the token level... it only needs to know who owns it and who may click on it
--SO... I need to refactor the token grid and let the other process hand me the data I need which is tokens
--tokens is the return list of Spools.Models.Token.findAll({}, this.callback('grid'));
load: function(){
	if(!$("#token").length){
	 $(document.body).append($('<div/>').attr('id','token'));
		 Spools.Models.Token.findAll({}, this.callback('grid'));
 	}
 },
 /**
 * Displays a list of tokens and the submit form.
 * @param {Array} tokens An array of Spools.Models.Token objects.
 */
 grid: function( tokens ){
	$('#token').html(this.view('grid', {tokens:tokens} ));
 },
--SO what I want is the grid view to have tokens that have idPlayer which is who can click <the user behind the UI>
--I then put an update call that when the user clicks it goes updates that value.
--TO DO THIS we just add idPlayer to the tokens.json.get and give it a value of the test player CAT
--EDIT C:\Users\ChrisT\workspace\javascriptmvc305\spools\fixtures\tokens.json.get
{"state": "play", "idCreator": "Christ", "idOwner": "game", "idPlayer": "CAT", "idGameBrd": "1", "idGamePos": "1",  "id": 1},
...
--Then mod the token view to display the right stuff
--EDIT C:\Users\ChrisT\workspace\javascriptmvc305\spools\views\token\icon.ejs
<%for(var attribute in this.Class.attributes){%>
    <%if(attribute == 'id') continue;%>
    <%if(attribute == 'idPlayer') {%>
         <input type="hidden" value="<%= idPlayer %>" name="idOwner"/>
    <%}%>
    <%if(attribute == 'idOwner') {%>
       <%if (this[attribute] == 'game') {%>
          <a href='javascript://' class='pick'>xx<%= this.state %>xx</a>
       <%}else{%> <%= this[attribute]%> <%}%>
    <%}%>
<%}%>
--WOW... basically back to where I was.  THE ONLY real change was to add an attribute to token
--I think I'll go clean up some of the mess I made...
C:\Users\ChrisT\workspace\javascriptmvc305>git status
# On branch spools
# Changes not staged for commit:
#   (use "git add <file>..." to update what will be committed)
#   (use "git checkout -- <file>..." to discard changes in working directory)
#
#       modified:   README
#       modified:   spools/controllers/token_controller.js
#       modified:   spools/fixtures/tokens.json.get
#       modified:   spools/spools.js
#       modified:   spools/views/token/icon.ejs
#
# Untracked files:
#   (use "git add <file>..." to include in what will be committed)
#
#       spools/controllers/user_controller.js
#       spools/fixtures/users.json.get
#       spools/models/user.js
#       spools/test/funcunit/user_controller_test.js
#       spools/test/qunit/user_test.js
#       spools/views/user/
no changes added to commit (use "git add" and/or "git commit -a")
--CLEANUP - Lets nuke the user stuff
C:\Users\ChrisT\workspace\javascriptmvc305>git status
# On branch spools
# Changes not staged for commit:
#   (use "git add <file>..." to update what will be committed)
#   (use "git checkout -- <file>..." to discard changes in working directory)
#
#       modified:   README
#       modified:   spools/controllers/token_controller.js
#       modified:   spools/fixtures/tokens.json.get
#       modified:   spools/spools.js
#       modified:   spools/views/token/icon.ejs
#
no changes added to commit (use "git add" and/or "git commit -a")
--CLEANUP - user nuked...
--Now lets clean up the call in spools.js take out user and comment out the cookie thing
--I think that's it
--In review... 
--the idPlayer is the id of the player who can click on this token
--the idOwner is the id of the owner of the token
--If the owner is the game, the user can click on the displayed link to become the owner
--that event triggers a data update...
--REMEMBER: The view should be presented with the data that is needed by the controller.
--Lets commit this
--SAVE THIS README
C:\Users\ChrisT\workspace\javascriptmvc305>git add .
C:\Users\ChrisT\workspace\javascriptmvc305>git commit -m "Add idPlayer to token model"
C:\Users\ChrisT\workspace\javascriptmvc305>git push origin spools
<<<<<<<<<<<<<<<<<
>>>>>STEP 8 - TEST
<<<<<<<<<<<<<<<<<
Browse - http://js.javascriptmvc305/spools/spools.html
SUCCESS>>Click on the xxplayxx see them change to CAT

<<<<<<<<<<<<<<<<<
>>>>>STEP 9 - Setting up AJAX Client Server messaging
<<<<<<<<<<<<<<<<<
--Now I want actually use a server instead of the fixture
--The idea is that each browser should send request to the server to own a token
--I also should setup test for this stuff.. but I'll wait for the next step.
--Review how fixtures calls http://javascriptmvc.com/docs.html#&who=jQuery.fixture
--OK... might as well pull in the server side stuff 
--Ran into this:
--http://benlancaster.wordpress.com/2009/02/10/how-to-completely-disable-firefox-cache/
--FROM: http://forum.javascriptmvc.com/#Topic/32525000000590742
--Tells how to stop the cache... this would have helped with I was debugging the views
--In Firefox
--URL: about:config
--search 'cache' find network.http.use-cache
--set to false
--Now reload - hold the shift key and hit reload
--Back to the server crap
--WELLL... I guess I'll use the zool project base to start since that's the point...
--HECK WITH THAT... lets just provide a file first... and turn 
--Good read http://forum.javascriptmvc.com/#topic/32525000000217056
--Was off subject and based on plugin vs app
--Found this: http://forum.javascriptmvc.com/recent#topic/32525000000149005
--Wow... javascriptMVC is not using jsonp... oh well makes it easier 4 now.
--humm... we could figure out errors here... but I'm not.. but should..
--OK to turn the framework off just comment out fixtures
--EDIT C:\Users\ChrisT\workspace\javascriptmvc305\spools\spools.js
	'jquery/model',					// Ajax wrappers
//        'jquery/model/list/cookie',
//	'jquery/dom/fixture',			// simulated Ajax requests
	'jquery/dom/form_params')		// form data helper
--Comment out fixture
--EDIT C:\zweb\conf\httpd.conf

<VirtualHost *:80>
   DocumentRoot "C:\Users\ChrisT\workspace\javascriptmvc305"
   ServerName js.javascriptmvc305
<FilesMatch "token" >
    SetHandler application/x-httpd-php
</FilesMatch>
AliasMatch ^/tokens(.*) tokens$1
   <Directory "C:\Users\ChrisT\workspace\javascriptmvc305">
       Options Indexes MultiViews FollowSymLinks
       AllowOverride All
       Order allow,deny
       Allow from all
   </Directory>
</VirtualHost>
--Add the FilesMatch and AliasMatch to line up with javascriptMVC model calls
--Add File C:\Users\ChrisT\workspace\javascriptmvc305\token
--Add File C:\Users\ChrisT\workspace\javascriptmvc305\tokens
--EDIT C:\Users\ChrisT\workspace\javascriptmvc305\token
<?php
$dataset = '
[
{"state": "play", "idCreator": "Christ", "idOwner": "game", "idPlayer": "GSH", "idGameBrd": "1", "idGamePos": "1",  "id": 1},
.........CUT......
{"state": "play", "idCreator": "Christ", "idOwner": "game", "idPlayer": "GSH", "idGameBrd": "1", "idGamePos": "25", "id": 25}
]
';
//header('Content-type: application/json');
//echo $_GET['callback']. '('.json_encode(array('dataset'=>$dataset)) .')';
//echo $_GET['callback']. '('. $dataset .')';
echo $dataset;
?>
--THIS should simulate... I thought maybe javascriptMVC issues a callback, but it doesnot.
--See it this works...  seems too..
--OK... I did quite a bit of setup and debugging the client server stuff... 
--OF COURSE it's not much code when you get it working..
--First it was getting the call to token to pass back stuff and setup session and cookies
--EDIT C:\Users\ChrisT\workspace\javascriptmvc305\token
--Bacially I wanted to setup the basis for generating a new gameboard and login the user's session and set cookies.
--I'll let you just read it...
--EDIT C:\Users\ChrisT\workspace\javascriptmvc305\tokens
--This gave me some issue.  Basically javascriptMVC use the PUT which I didn't have PHP for so I just changed the .ajax to a POST
--EDIT C:\Users\ChrisT\workspace\javascriptmvc305\spools\models\token.js
	update: function( id, attrs, success, error ){
		$.ajax({
			url: '/tokens/'+id,
			type: 'post',
			dataType: 'json',
			data: attrs,
			success: success,
			error: error,
			fixture: "-restUpdate" //uses $.fixture.restUpdate for response.
		});
--This works and sets a new user and board for a new session.
--OH I added nukecookieandsession.php to hit that helps debug session and cookie stuff.
--EDIT: C:\Users\ChrisT\workspace\javascriptmvc305>nukecookieandsession.php
--At this point I should add more tests... but I need to get this going for the UI guys to start playing with...
--Next we need to get 5 users playing the same board and attempt some clicking update conflicts...
--BUT ENOUGH 4 NOW...
--Lets commit this
--SAVE THIS README
C:\Users\ChrisT\workspace\javascriptmvc305>git add .
C:\Users\ChrisT\workspace\javascriptmvc305>git commit -m "STEP 9 Setting up AJAX Client Server messaging"
C:\Users\ChrisT\workspace\javascriptmvc305>git push origin spools
<<<<<<<<<<<<<<<<<
>>>>>STEP 9 - TEST
<<<<<<<<<<<<<<<<<
Browse - http://js.javascriptmvc305/nukecookieandsession.php
--Nuke current stuff and get a cookie
Browse - http://js.javascriptmvc305/spools/spools.html
SUCCESS>>Click on stuff and it works
Watch the network packets in FireBug and inpsect elements... doing what it should but I really need to get more
automated testing verification, but need to get going on UI also.

<<<<<<<<<<<<<<<<<
>>>>>STEP 10 - Multiple Players on one game
<<<<<<<<<<<<<<<<<
--OK... we want multiple players to play off of one game board
--To do this we will be saving the tokens to a file, update that file on user requests
--First put in the file storage and read
--EDIT: C:\Users\ChrisT\workspace\javascriptmvc305\token
--EDIT: C:\Users\ChrisT\workspace\javascriptmvc305\tokens
--Add a simple file storage for a gameboard... bunch of php stuff you can read..
--Seems to work and it adds as many players as you have fresh cookies...

--Lets commit this
--SAVE THIS README
C:\Users\ChrisT\workspace\javascriptmvc305>git add .
C:\Users\ChrisT\workspace\javascriptmvc305>git commit -m "STEP 10 Multiple Players on one game"
C:\Users\ChrisT\workspace\javascriptmvc305>git push origin spools
<<<<<<<<<<<<<<<<<
>>>>>STEP 10 - TEST
<<<<<<<<<<<<<<<<<
Browse - http://js.javascriptmvc305/spools/spools.html
CLICK a few tokens
Browse - http://js.javascriptmvc305/nukecookieandsession.php
See the 'other' user and click a few more tokens as your 'new' user
rinse and repeat
SUCCESS>>Seems to work OK... I'm sure I'll have 'issues'

<<<<<<<<<<<<<<<<<
>>>>>STEP 11 - Share on javascriptmvc305.xplanb.net
<<<<<<<<<<<<<<<<<
--WELLLLLLL... I got to share this with the crew so I can get some feedback
--SO.... Lets push it to that public server and see what issues we have
--We will probably have Apache config issues as I'm doing some funnies with the apache config
--Create the subdomain javascriptmvc305.xplanb.net
--ssh to your box cd to where you appache should point
--git clone git@github.com:christrees/javascriptmvc305.git
--Humm... that almost worked... we need to set the .htaccess
<FilesMatch "token" >
    SetHandler application/x-httpd-php
</FilesMatch>
--CRAP... f'n host... this does not fly..
--DARN... do it the 'other way...' hack up the request to go to .php and change the file names to match
--COPY: token -> token.php and tokens -> tokens.php
--EDIT: spools/models/token.js (point the old to the new)
--Lets commit this
--SAVE THIS README
C:\Users\ChrisT\workspace\javascriptmvc305>git add .
C:\Users\ChrisT\workspace\javascriptmvc305>git commit -m "Mod for javascriptmvc305.xplanb.net due to no FileMatch Apache control"
C:\Users\ChrisT\workspace\javascriptmvc305>git push origin spools
--NOW on host side
--git fetch
--git checkout remotes/origin/spools
--HEY... that works
--Lets add a board rebuild to newboard.php
--EDIT: newboard.php
--Just use the init and board gen to write over board 1
--This seems to work...
--Lets put some info in the spools.html
--EDIT: spools/spools.html
--And link nukecookieandsession.php and newboard.php back to spools
--WOW.. this will make testing scripts easier also...
-Lets commit this
C:\Users\ChrisT\workspace\javascriptmvc305>git status
# On branch spools
# Changes not staged for commit:
#   (use "git add <file>..." to update what will be committed)
#   (use "git checkout -- <file>..." to discard changes in working directory)
#
#       modified:   README
#       modified:   gamebrdbank.spools
#       modified:   nukecookieandsession.php
#       modified:   spools/spools.html
#
# Untracked files:
#   (use "git add <file>..." to include in what will be committed)
#
#       newboard.php
no changes added to commit (use "git add" and/or "git commit -a")
--SAVE THIS README
C:\Users\ChrisT\workspace\javascriptmvc305>git add .
C:\Users\ChrisT\workspace\javascriptmvc305>git commit -m "Mod to make demo easier"
C:\Users\ChrisT\workspace\javascriptmvc305>git push origin spools
--NOW on host side
[cat@gator1209 ~/public_html/javascriptmvc305]$ git fetch
Enter passphrase for key '/home/cat/.ssh/id_rsa':
remote: Counting objects: 14, done.
remote: Compressing objects: 100% (2/2), done.
remote: Total 8 (delta 6), reused 8 (delta 6)
Unpacking objects: 100% (8/8), done.
From github.com:christrees/javascriptmvc305
   5b1210f..6d21d2f  spools     -> origin/spools
[cat@gator1209 ~/public_html/javascriptmvc305]$ git checkout remotes/origin/spools
error: You have local changes to 'gamebrdbank.spools'; cannot switch branches.
[cat@gator1209 ~/public_html/javascriptmvc305]$ rm gamebrdbank.spools
[cat@gator1209 ~/public_html/javascriptmvc305]$ git checkout remotes/origin/spools
Previous HEAD position was 5b1210f... Mod for javascriptmvc305.xplanb.net due to no FileMatch Apache control
HEAD is now at 6d21d2f... Mod to make demo easier
[cat@gator1209 ~/public_html/javascriptmvc305]$
--Had to delete the data file... maybe put that in ignore... heck with it 4 now...
--Browse: http://javascriptmvc305.xplanb.net/spools/spools.html
--PLAY around...

<<<<<<<<<<<<<<<<<
>>>>>STEP 11 - TEST
<<<<<<<<<<<<<<<<<
Browse - http://javascriptmvc305.xplanb.net/spools/spools.html
SUCCESS>> play around seems to work

<<<<<<<<<<<<<<<<<
>>>>>STEP 12 - Changed developer computers
<<<<<<<<<<<<<<<<<
--Well, I'm on the road and needed to change to my laptop AND work from a coffee shop
--http://corkeddubuque.com/
--CHECK IT OUT... this could have been in SF or MtView.... but it's in Dubuque, IA... very nice
--ANYWAY...
--Had some issue with network because I forgot last time I used laptop I hardcoded IP...
--Needed to setup webserver...
--C:\usr\christ.CATLAP\My Documents\Downloads\WampServer2.1e-x32.exe
--INSTALL
--C:\wamp\bin\apache\Apache2.2.17\conf\httpd.conf
--HUMM.... I'll add to the alia that it pulls in at end...
--EDIT: C:\wamp\alias\spoolstest.conf
# Listen for virtual host requests on all IP addresses
NameVirtualHost *:80
# Spools Testing change to your workspace
<VirtualHost *:80>
   DocumentRoot "C:\usr\christ.CATLAP\work\javascriptmvc305"
   ServerName js.javascriptmvc305
   <Directory "C:\usr\christ.CATLAP\work\javascriptmvc305">
       Options Indexes MultiViews FollowSymLinks
       AllowOverride All
       Order allow,deny
       Allow from all
   </Directory>
</VirtualHost>
--EDIT: C:\WINDOWS\system32\drivers\etc\hosts
127.0.0.1       js.javascriptmvc305
--RESTART WAMP <click on taskbar icon>
--BROWSE http://js.javascriptmvc305/spools/spools.html
--WORKS
C:\Users\ChrisT\workspace\javascriptmvc305>git add .
C:\Users\ChrisT\workspace\javascriptmvc305>git commit -m "Move to laptop and coffee shop"
C:\Users\ChrisT\workspace\javascriptmvc305>git push origin spools
<<<<<<<<<<<<<<<<<
>>>>>STEP 11 - TEST
<<<<<<<<<<<<<<<<<
Browse - http://js.javascriptmvc305/spools/spools.html
SUCCESS>>Click around and test... 

<<<<<<<<<<<<<<<<<
>>>>>STEP 12 - TEST ME DAMB IT!!!
<<<<<<<<<<<<<<<<<
--Lets put gamebrdbank.spools in .gitignore so we don't have to listen to it change in git
--EDIT: C:\usr\christ.CATLAP\work\javascriptmvc305\.gitignore
--put in *.spools
--SO... for all spools dynamic 'datafiles' are .spools 
--Lets commit this
--SAVE THIS README
C:\Users\ChrisT\workspace\javascriptmvc305>git add .
C:\usr\christ.CATLAP\work\javascriptmvc305>git commit -m "ignore .spools files"
[spools 96db48c] ignore .spools files
 2 files changed, 2 insertions(+), 9 deletions(-)
--OK... now go back to funtional test
--BROWSE http://js.javascriptmvc305/spools/qunit.html
--THEY WORK... an assert is run ..were are DONE.. <funny>
--EDIT: C:\usr\christ.CATLAP\work\javascriptmvc305\spools\test\qunit\qunit.js
--BOTH spools_test.js and token_test.js are called...
--EDIT: C:\usr\christ.CATLAP\work\javascriptmvc305\spools\test\qunit\spools_test.js
--Just an assert called
--EDIT : C:\usr\christ.CATLAP\work\javascriptmvc305\spools\test\qunit\token_test.js
--Humm... this is obviously not called...
--EDIT: C:\usr\christ.CATLAP\work\javascriptmvc305\spools\test\qunit\qunit.js
--TYPO: had token_controller_test should be token_test
--Added some more unit test not real complete but need to get the functional tests going
--Then I will add func and unit as I change things.
--http://javascriptmvc.com/docs/FuncUnit.html#&who=mastering
--Hummm... would like to use the real selenium web interface... wonder if I can save out to se
--http://sourceforge.net/projects/sahi/files/sahi-v35/
--se clone +
--C:\usr\christ.CATLAP\My Documents\Downloads\sahi_20110213.zip
Sahi V3.5
To install Sahi using the installer, download install_sahi_v35_2011mmdd.jar
and run
java -jar install_sahi_v35_2011mmdd.jar
If you do not wish to use the installer,
1) download sahi_2011ddmm.zip
2) Unzip it to any folder, C:\usr\christ.CATLAP\work\sahi
3) Open a command prompt and navigate to sahi\userdata\bin
cd C:\usr\christ.CATLAP\work\sahi\userdata\bin
4) run start_dashboard.bat
start_dashboard.bat
--Wow... this is pretty nice...  (22MB) and took me less time then Selenium.
--I need to look all the test integration stuff... but will use this right now
--So... click on one of the browsers it finds <I use Firefox not 4>
--Browse: http://js.javascriptmvc305/spools/spools.html
--ALT-DBLCLICK on the webpage brings up the script stuff
--Basiclly you can record and edit a script file
--Right now looks like the scripts need to be in the sahi dir
--C:\usr\christ.CATLAP\work\sahi\userdata\scripts\spools_PartyPlay.sah
--Copy this file to our test dir so we have one with our spools
--
--Lets commit this
--SAVE THIS README
C:\usr\christ.CATLAP\work\javascriptmvc305>git status
# On branch spools
# Changes not staged for commit:
#   (use "git add <file>..." to update what will be committed)
#   (use "git checkout -- <file>..." to discard changes in working directory)
#
#       modified:   README
#       modified:   gamebrdbank.spools
#       modified:   spools/test/funcunit/spools_test.js
#       modified:   spools/test/funcunit/token_controller_test.js
#       modified:   spools/test/qunit/qunit.js
#       modified:   spools/test/qunit/token_test.js
#
# Untracked files:
#   (use "git add <file>..." to include in what will be committed)
#
#       spools/test/sahi/
no changes added to commit (use "git add" and/or "git commit -a")
C:\Users\ChrisT\workspace\javascriptmvc305>git add .
C:\Users\ChrisT\workspace\javascriptmvc305>git commit -m ""STEP 12 TEST ME DAMB IT"
C:\Users\ChrisT\workspace\javascriptmvc305>git push origin spools
<<<<<<<<<<<<<<<<<
>>>>>STEP 12 - TEST
<<<<<<<<<<<<<<<<<
--Start sahi
C:\usr\christ.CATLAP\work\sahi\userdata\bin>start_dashboard.bat
--CLICK firefox button
--ALT-DBLCLICK on browser page
--CLICK on PLAYBACK TAB
--Move spools_PartyPlay.sah to C:\usr\christ.CATLAP\work\sahi\userdata\scripts
--FILE: spools_PartyPlay.sah
--START URL: http://js.javascriptmvc305/spools/spools.html
--CLICK SET button
--CLICK PLAY button
--WATCH SCRIPT RUN.... when done
--CLICK View Logs
--CLICK the log you just ran such as http://js.javascriptmvc305/_s_/dyn/Log_viewLogs/spools_PartyPlay__31Jul2011__11_29_24.htm
--THESE are in C:\usr\christ.CATLAP\work\sahi\userdata\logs\playback
SUCCESS>> ALL GREEN

<<<<<<<<<<<<<<<<<
>>>>>STEP 13 - Some documentation would be nice
<<<<<<<<<<<<<<<<<
--Well, this readme is a linear timeline document, but I also want tagging references
--Our naming of elements are becoming critical esp as we start adding both TEST and css
--The element names will become or mapping index key for css and test
--Lets use the documentjs
--Generate spools docs
C:\Users\ChrisT\workspace\javascriptmvc305>steal\js spools\scripts\docs.js
PROCESSING SCRIPTS

  ../steal/steal.js?spools,development
  ../steal/dev/dev.js
  ../spools/spools.js
  ../jquery/controller/controller.js
  ../jquery/class/class.js
  ../jquery/jquery.js
  ../jquery/lang/lang.js
  ../jquery/event/destroyed/destroyed.js
  ../jquery/event/event.js
  ../jquery/controller/subscribe/subscribe.js
  ../jquery/lang/openajax/openajax.js
  ../jquery/view/ejs/ejs.js
  ../jquery/view/view.js
  ../jquery/lang/rsplit/rsplit.js
  ../jquery/controller/view/view.js
  ../jquery/model/model.js
  ../jquery/dom/form_params/form_params.js
  ../jquery/dom/dom.js
  ../spools/models/token.js
  ../spools/controllers/token_controller.js

GENERATING DOCS -> spools/docs

Using default page layout.  Overwrite by creating: spools/summary.ejs

C:\Users\ChrisT\workspace\javascriptmvc305>
--OK... go look at what we have
--BROWSE: http://js.javascriptmvc305/spools/docs.html
--OK... we've got a lot of pattern stuff that javascriptMVC sets us up with
--I would like to add some general info on various modules and especially testing with 'User Story' stuff.
-- http://javascriptmvc.com/docs/DocumentJS.html
--Something is funny as it does a little bit of redirect... not going to chase that rabit right now.
--Basically documentJS just works off of the comment tags in the js chain... so to add stuff we start tagging
--EDIT: C:\Users\ChrisT\workspace\javascriptmvc305\spools\spools.js
/*
 * @page spools Spools
 * @tag home
 *
 * ###Spools - Party Play
 *  
 * Spools attempting to document and test a Spools game:
 * A list
 *
 * * Spools List item 1 
 * * Spools List item 2 
 */
 --RUN the docs script again
 C:\Users\ChrisT\workspace\javascriptmvc305>steal\js spools\scripts\docs.js
--BROWSE: http://js.javascriptmvc305/spools/docs.html
--See our stuff getting added
--This is taking the comments and using markdown markup to generate the pages.
--Markdown: http://en.wikipedia.org/wiki/Markdown
--HUUMMMM... this just picks up and looks at js docs following the docs.js
--so that means only spools/spools.js spools/model/token.js spools/controllers/token_controller.js
--BASICALLY means we do our 'explains' in the mc parts.
--Lets commit this
--SAVE THIS README
C:\Users\ChrisT\workspace\javascriptmvc305>git add .
C:\Users\ChrisT\workspace\javascriptmvc305>git commit -m "STEP 13 Some documentation"
C:\Users\ChrisT\workspace\javascriptmvc305>git push origin spools
<<<<<<<<<<<<<<<<<
>>>>>STEP 13 - TEST
<<<<<<<<<<<<<<<<<
Browse - http://js.javascriptmvc305/spools/docs.html
SUCCESS>>See docs

<<<<<<<<<<<<<<<<<
>>>>>STEP 14 - EyeCandy or Curtains for ALL
<<<<<<<<<<<<<<<<<
--WELLLL.... I like ASCII but most the world want pretty crap all over... lets hang some css
--My origanl intent when starting this was to use Joes css and now we are getting to it.
--file:///C:/Users/ChrisT/workspace/spools/effects/gp_playgame.html
--Shows us a look at the goal.  We are going to focus in on the token grid ONLY... as this the element I was focusing on.
--OK... he is putting the grid in <div id="PGGridContainer"></div>
--BUT he's got an image games_spools_bg.png that is called by <div id="PGSpoolsContainer">
--OK.. lets hang curtains.
--First we need the resources
--COPY: C:\Users\ChrisT\workspace\spools\image\games_spools_bg.png and CoinIcon.png
--TO: C:\Users\ChrisT\workspace\javascriptmvc305\spools\resources
--Next lets pull in the css
--EDIT: C:\Users\ChrisT\workspace\javascriptmvc305\spools\spools.css
--I'll let you just read the css we added joe old css calls and put some style in .token class from our framework.
--OK... basically we want to see a token when it's not owned... and take it away when you click on it
--EDIT: C:\Users\ChrisT\workspace\javascriptmvc305\spools\controllers\token_controller.js
'.pick click': function( el ){
	var $token = el.closest('.token');
	$token.removeClass("PGToken");
	$token.model().update($token.formParams());
--THAT should remove the token display and run the...
--Now add the token when we show the grid
--EDIT: C:\Users\ChrisT\workspace\javascriptmvc305\spools\views\token\grid.ejs ADD the class PGToken
<td class="PGToken"<%= tokens[i]%>>
--RUN our test...
--Lets commit this
--SAVE THIS README
C:\Users\ChrisT\workspace\javascriptmvc305>git add .
C:\Users\ChrisT\workspace\javascriptmvc305>git commit -m "STEP 14 EyeCandy or Curtains for ALL"
C:\Users\ChrisT\workspace\javascriptmvc305>git push origin spools
<<<<<<<<<<<<<<<<<
>>>>>STEP 14 - TEST
<<<<<<<<<<<<<<<<<
--Start sahi
C:\usr\christ.CATLAP\work\sahi\userdata\bin>start_dashboard.bat
--CLICK firefox button
--ALT-DBLCLICK on browser page
--CLICK on PLAYBACK TAB
--Move spools_PartyPlay.sah to C:\usr\christ.CATLAP\work\sahi\userdata\scripts
--FILE: spools_PartyPlay.sah
--START URL: http://js.javascriptmvc305/spools/spools.html
--CLICK SET button
--CLICK PLAY button
--WATCH SCRIPT RUN.... when done
--CLICK View Logs
--CLICK the log you just ran such as http://js.javascriptmvc305/_s_/dyn/Log_viewLogs/spools_PartyPlay__31Jul2011__11_29_24.htm
--THESE are in C:\usr\christ.CATLAP\work\sahi\userdata\logs\playback
SUCCESS>> ALL GREEN
.... WOOPS... I should change the name from SPOOLS ASCII to SPOOLS - Curtians for ALL!! <but then a test would fail>

<<<<<<<<<<<<<<<<<
>>>>>STEP 15 - Some Cleanup
<<<<<<<<<<<<<<<<<
--Some crap I would like to clean up
--Shrink tokens to fit Joe board <css mods>
--EDIT: C:\Users\ChrisT\workspace\javascriptmvc305\spools\spools.css
--Cleanup text so it fits <we wanted to limit text to 4 chars>
--EDIT: C:\Users\ChrisT\workspace\javascriptmvc305\spools\views\token\icon.ejs
--When you refresh the page the tokens come back... I need to set the icon class based on the data
--EDIT: C:\Users\ChrisT\workspace\javascriptmvc305\spools\views\token\grid.ejs
--Put class="PGToken" if the owner is game... we may need to think about a better way to handel tokens, but not now.
--Lets commit this and push it up to xplanb
--SAVE THIS README
C:\Users\ChrisT\workspace\javascriptmvc305>git add .
C:\Users\ChrisT\workspace\javascriptmvc305>git commit -m "STEP 15 Some Cleanup"
C:\Users\ChrisT\workspace\javascriptmvc305>git push origin spools
[cat@gator1209 ~/public_html/javascriptmvc305]$ git fetch
[cat@gator1209 ~/public_html/javascriptmvc305]$ rm gamebrdbank.spools
[cat@gator1209 ~/public_html/javascriptmvc305]$ git checkout remotes/origin/spools

<<<<<<<<<<<<<<<<<
>>>>>STEP 15 - TEST
<<<<<<<<<<<<<<<<<
Browse - http://js.javascriptmvc305/spools/spools.html
SUCCESS>>Works... but we should add formal testing
Browse - http://javascriptmvc305.xplanb.net/spools/spools.html
SUCCESS>>Works... but we should add formal testing

<<<<<<<<<<<<<<<<<
>>>>>STEP 16 - multiple boards and TEST
<<<<<<<<<<<<<<<<<
--Well, we need multiboard generation
--EDIT: C:\Users\ChrisT\workspace\javascriptmvc305\newboard.php
--EDIT: C:\Users\ChrisT\workspace\javascriptmvc305\spools\controllers\token_controller.js
--EDIT: C:\Users\ChrisT\workspace\javascriptmvc305\spools\spools.css
--EDIT: C:\Users\ChrisT\workspace\javascriptmvc305\token.php
--EDIT: C:\Users\ChrisT\workspace\javascriptmvc305\tokens.php
--EDIT: C:\Users\ChrisT\workspace\javascriptmvc305\common.php
--Basically cleanup the server side and reduce code by collapsing into common.php
--NOW... add the scoreboard text..
http://js.javascriptmvc305/spools/spools.html
http://docs.jquery.com/Qunit#API_documentation
https://github.com/jquery/jquery-ui/blob/master/tests/unit/menu/menu_core.js
http://js.javascriptmvc305/spools/qunit.html
--Lets commit this
--SAVE THIS README
C:\Users\ChrisT\workspace\javascriptmvc305>git add .
C:\Users\ChrisT\workspace\javascriptmvc305>git commit -m "STEP 16 multiple boards and TEST"
C:\Users\ChrisT\workspace\javascriptmvc305>git push origin spools
[cat@gator1209 ~/public_html/javascriptmvc305]$ git fetch
[cat@gator1209 ~/public_html/javascriptmvc305]$ rm *.spools
[cat@gator1209 ~/public_html/javascriptmvc305]$ git checkout remotes/origin/spools
<<<<<<<<<<<<<<<<<
>>>>>STEP 16 - TEST
<<<<<<<<<<<<<<<<<
Browse - http://js.javascriptmvc305/spools/spools.html
SUCCESS>>
?FAILURE>>
??WHAT?>>

<<<<<<<<<<<<<<<<<
>>>>>STEP 17 - Create Games Controller
<<<<<<<<<<<<<<<<<
--Well, we want to use the gameboard on games so we need a games 
C:\Users\ChrisT\workspace\javascriptmvc305>js jquery\generate\scaffold Spools.Models.Game
      spools/controllers
      spools/controllers/game_controller.js
      spools/fixtures
      spools/fixtures/games.json.get
      spools/models
      spools/models/game.js
      spools/test
      spools/test/funcunit
      spools/test/funcunit/game_controller_test.js
      spools/test/qunit
      spools/test/qunit/game_test.js
      spools/views
      spools/views/game
      spools/views/game/edit.ejs
      spools/views/game/init.ejs
      spools/views/game/list.ejs
      spools/views/game/show.ejs
C:\Users\ChrisT\workspace\javascriptmvc305>
--EDIT  spools/spools.js
	.models('token', 'game')
	.controllers('token', 'game')
--EDIT  spools/spools.js
	'jquery/dom/fixture',			// simulated Ajax requests
--Use the fixture to set the games thing up and make sure I can see things.
--Browse - http://js.javascriptmvc305/spools/spools.html
--OK... lets mod C:\Users\ChrisT\workspace\javascriptmvc305\spools\fixtures\games.json.get
--Just put in some basic fields we think we want
--Browse - http://js.javascriptmvc305/spools/spools.html
--OK... what we really need is a file on the server to handle our games list for each user.
--We are going to call this UUUUgamesbank.spools where UUUU is user 4digit id
--Remember our XXXgamebrdbank.spools is the gamegrid with tokens XXX is idGameBrd
--Lets get the New Game to write to UUUgamesbank.spools
--EDIT: C:\Users\ChrisT\workspace\javascriptmvc305\spools\models\games.js
	findAll: function( params, success, error ){
		$.ajax({
			//url: '/game',
			url: '/game.php',
....
	update: function( id, attrs, success, error ){
		$.ajax({
		//	url: '/games/'+id,
			url: '/games.php/'+id,
		//	type: 'put',
			type: 'post',
--Basically hack this to work with the server till we can get a real framework in.
--We shouldn't have to hack the url, but because we are sticking to simple php files.
--I don't want to parse the URL and our host don't let us set the files matcher in apache... this is a hack for that.
--ANYWAY...
--EDIT  spools/spools.js
	// 'jquery/dom/fixture',			// simulated Ajax requests
--Take the fixtures back out so we go to the server.
--Now if you look at the network request <firebug or chrome wrench->tools->developertools>
--We see the post
--EDIT: C:\Users\ChrisT\workspace\javascriptmvc305\common.php
--ADD extra post fields to look for
//-- if your using games you should be passing me this stuff on POST
	$messagae_post         = (isset($_POST['message']))   ? ($_POST['message']  ) : ('messagefuckd');
	$TeamNameA_post         = (isset($_POST['TeamNameA']))   ? ($_POST['TeamNameA']  ) : ('TeamNameAfuckd');
	$TeamNameB_post         = (isset($_POST['TeamNameB']))   ? ($_POST['TeamNameB']  ) : ('TeamNameBfuckd');
--ADD the read and/or creation of user gamesbank
//--Pull the Users games out of storage
//-- Get the right games bank for the user
$gamesbankbasename = $idPlayer . $theGame["gamesinit"]["filename"];
if (file_exists($gamesbankbasename)) {
     $gamebankout = unserialize(file_get_contents($gamesbankbasename));
} else { //-User does not have gamesbank so generate one
    $gamebankout[0] = $theGame["gamesbankinit"];
    $fp = fopen($gamesbankbasename, 'w+') or die("I could not open $gamesbankbasename.");
    //--Reference: http://php.net/manual/en/language.oop5.serialization.php
    fwrite($fp, serialize($gamebankout));
    fclose($fp);
}
--OK.... now fill in the ini stuff
--EDIT: C:\Users\ChrisT\workspace\javascriptmvc305\gamebrd.ini
[gamesinit]
filename = gamesbank.spools

[gamesbankinit]
idGameBrd = 0
message = "New Player No Games"
TeamNameA = "Home Team"
TeamNameB = "Away Team"
id = 0

--OK... now handle specific request from the game model
--EDIT: C:\Users\ChrisT\workspace\javascriptmvc305\game.php
<?php
include_once 'common.php';
//--OK we should have a $gamebankout array
//--Send the games model to the user
$end = sizeof($gamebankout);
$i = 1;
echo '[';
foreach ($gamebankout as $value) {
    echo json_encode($value);
    if ( $i < $end) echo ',';
    $i++;
}
echo ']';
?>
--OK... now the updates / create
--EDIT: C:\Users\ChrisT\workspace\javascriptmvc305\games.php
<?php
include_once 'common.php';
//--OK we should have a $gamebankout array
//--User just sent us an update
    if (isset($gamebankout[$idGameBrd_post])) {
     $gamebankout[$idGameBrd_post]["idGameBrd"] = $idGameBrd_post;
     $gamebankout[$idGameBrd_post]["message"] = "beenread";
     $gamebankout[$idGameBrd_post]["TeamNameA"] = $TeamNameA_post;
     $gamebankout[$idGameBrd_post]["TeamNameB"] = $TeamNameB_post;
     $gamebankout[$idGameBrd_post]["id"] = $id;
    } else {
     $gamebankout[$idGameBrd_post] = $theGame["gamesbankinit"];
     $gamebankout[$idGameBrd_post]["idGameBrd"] = $idGameBrd_post;
     $gamebankout[$idGameBrd_post]["message"] = "brannew";
     $gamebankout[$idGameBrd_post]["TeamNameA"] = $TeamNameA_post;
     $gamebankout[$idGameBrd_post]["TeamNameB"] = $TeamNameB_post;
     $gamebankout[$idGameBrd_post]["id"] = $idGameBrd_post;
    }
    //-- Store the new games list
    $fp = fopen($gamesbankbasename, 'w+') or die("I could not open $gamesbankbasename.");
    fwrite($fp, serialize($gamebankout));
    fclose($fp);
    //--Give the updated data back
    echo json_encode($gamebankout[$idGameBrd_post]);
?>
--BAD CHRIS... I should be doing test but I'm not...
--ANYWAY... this seems to work ok.. we want to display a game.
--The way we set this up is a cookie is used to id the user and the game board.
--We need to wire a way for the user to view a game
--WELL.... KISS... put a view link on the games list.
--EDIT: C:\Users\ChrisT\workspace\javascriptmvc305\spools\views\game\show.ejs
	<a href='javascript://' class='view'>view</a>
--Now put a controller in for that view click
--EDIT: C:\Users\ChrisT\workspace\javascriptmvc305\spools\controllers\game_controller.js
 /**
 *	 Handle's clicking on a game's view link.
 */
'.view click': function( el ){
        var game = el.closest('.game').model();
	if(confirm("Changing the current game view")){
                $.cookie('idGameBrd', game.valueOf('idGameBrd'));
		 Spools.Models.Token.findAll({}, viewThisGameBrd);
		 Spools.Controllers.Token.grid(viewThisGameBrd);
	}
 },
--OK... so when the user clicks on a game view we want to set the idGameBrd cookie to the right board
--Then we want to load the gamegrid with that game.
--NOTE: I put in the annoying alert..
--CRAP... I not getting the update I expect

--Lets commit this because we've got quite a bit of work
--SAVE THIS README
C:\Users\ChrisT\workspace\javascriptmvc305>git add .
C:\Users\ChrisT\workspace\javascriptmvc305>git commit -m "STEP 17 - Create Games Controller"
C:\Users\ChrisT\workspace\javascriptmvc305>git push origin spools
[cat@gator1209 ~/public_html/javascriptmvc305]$ rm gamebrdbank.spools
[cat@gator1209 ~/public_html/javascriptmvc305]$ git fetch
[cat@gator1209 ~/public_html/javascriptmvc305]$ git checkout remotes/origin/spools
<<<<<<<<<<<<<<<<<
>>>>>STEP 17 - TEST
<<<<<<<<<<<<<<<<<
Browse - http://js.javascriptmvc305/spools/spools.html
SUCCESS>>some shit works... but my view <the whole purpose> does not
?FAILURE>>I FAIL... because I'm not writting enough tests as we go... but sometimes we suck...
??WHAT?>>WORK on the darn cross-controller-event-triggering go LOOK THIS UP NEXT...

<<<<<<<<<<<<<<<<<
>>>>>STEP 18 - Make grid display with games model data
<<<<<<<<<<<<<<<<<
--WOW......... AFTER MANY MANY HOURS of figuring out why shit don't work as expected...
--EDIT: C:\Users\ChrisT\workspace\javascriptmvc305\spools\controllers\game_controller.js
'.view click': function( el ){
        $('.game').removeClass('gameselect');
      var game = el.closest('.game').model();
        $.cookie('DoDo', 'Dah');
        document.cookie = "idGameBrd="+ game['idGameBrd'] +"; path=/";
        Spools.Models.Token.findAll({}, function(data){
          $('#token').html(Spools.Controllers.Token.prototype.view('grid', {tokens:data, game:game} ));
        });
 },
 --NOTES:
 -->>> 1- The $.cookie does work but was putting in the /spools domain path need to add path
 -->>> 2- I'm planing on using 'gameselect' to highlight the selected game
 -->>> 3- I'm sure the call and redisplay would work lots of different ways.
 --I had a hell of a time passing stuff around.  I'm not js fluent for sure.  One big issue I had was 
 --attemtpting to get model data from the various models passed around.  Then I had an issue with
 --"" vs '' in the grid.ejs.  I also had an interesting problem with 
 --REFERENCE BAD CODE:
'.view click': function( el ){
        $('.game').removeClass('gameselect');
      var game = el.closest('.game').model();
        $.cookie('DoDo', 'Dah');
        document.cookie = "idGameBrd="+ game['idGameBrd'] +"; path=/";
        //Spools.Models.Token.findAll({}, updateme(data));
        
        Spools.Models.Token.findAll({}, function(data){
          $('#token').html(Spools.Controllers.Token.prototype.view('grid', {tokens:data} ));
          //Spools.Controllers.Token.prototype.grid(data);
        });
   /* */
      $(document).ready( function(){
      $('#gridTeamNameA').html(game['TeamNameA']);
      $('#gridTeamNameB').html(game['TeamNameB']);
      });
 },
 --THIS was bad because of the async events.  game names were updating then the async was over writing
 --with the default data. ANYWAY... lots of small issues costing lots of time.
--EDIT: C:\Users\ChrisT\workspace\javascriptmvc305\spools\views\token\grid.ejs
<div id="PGSpoolsContainer">
<table id="PGGridContainer" class="center" border="1" cellspacing='0px'>
<caption>Game Grid</caption>
<tr><th colspan=2 rowspan=2><th colspan=5><span id="gridTeamNameA"><%= game["TeamNameA"] %></span>
<tr><th>x/x<th>x/x<th>x/x<th>x/x<th>x/x
<tr><th rowspan=5><span id="gridTeamNameB"><%= game["TeamNameB"] %></span>
<th>x/x
<%var a = 0; var r = 1; for(var i = 0; i < tokens.length ; i++){ a++; %>
    <%if( a == 6 ) { a = 1; r++; %> <tr><th>x/x <%}%>
	<td <%= tokens[i]%> <% if (tokens[i].idOwner == 'game') {%>class="PGToken"<%}%> >
		<%= $.View('//spools/views/token/icon',tokens[i])%>
	</td>
<%}%>
</table>
</div>
--THIS I added the <%= game["TeamNameA"] %> and <%= game["TeamNameB"] %>
--THIS MESSED ME UP because I used <%= game['TeamNameA'] %> which failed while I was also figuring out
--all the object passing stuff... man.. need to figure out the handels on the generated code... it's hurting my brain.
--

--Lets commit this
--SAVE THIS README
C:\Users\ChrisT\workspace\javascriptmvc305>git add .
C:\Users\ChrisT\workspace\javascriptmvc305>git commit -m "STEP 18 - Make grid display with games model data"
C:\Users\ChrisT\workspace\javascriptmvc305>git push origin spools
[cat@gator1209 ~/public_html/javascriptmvc305]$ rm gamebrdbank.spools
[cat@gator1209 ~/public_html/javascriptmvc305]$ git fetch
[cat@gator1209 ~/public_html/javascriptmvc305]$ git checkout remotes/origin/spools
<<<<<<<<<<<<<<<<<
>>>>>STEP 18 - TEST
<<<<<<<<<<<<<<<<<
Browse - http://js.javascriptmvc305/spools/spools.html
SUCCESS>>Seems to work
?FAILURE>>LOT of test should be written
??WHAT?>>

<<<<<<<<<<<<<<<<<
>>>>>STEP 19 - Cleanup to sync with Joe Candy
<<<<<<<<<<<<<<<<<
--Joe has some new ui candy to share, so I want to sync up with website and my current stuff
--Lets commit this
--SAVE THIS README
C:\Users\ChrisT\workspace\javascriptmvc305>rm *.spools
C:\Users\ChrisT\workspace\javascriptmvc305>git add .
C:\Users\ChrisT\workspace\javascriptmvc305>git commit -m "enable old css and web sync"
C:\Users\ChrisT\workspace\javascriptmvc305>git push origin spools
[cat@gator1209 ~/public_html/javascriptmvc305]$ git fetch
[cat@gator1209 ~/public_html/javascriptmvc305]$ rm *.spools
[cat@gator1209 ~/public_html/javascriptmvc305]$ git checkout remotes/origin/spools
<<<<<<<<<<<<<<<<<
>>>>>STEP 19 - TEST
<<<<<<<<<<<<<<<<<
Browse - http://js.javascriptmvc305/spools/spools.html
SUCCESS>>works

<<<<<<<<<<<<<<<<<
>>>>>STEP 20 - Joe Candy Merge
<<<<<<<<<<<<<<<<<
--OK Joe's new candy
--http://www.gimbalrock.com/spools/v04/
--Lets merge this via the divs...
--First lets just update the css
--Joe is using partyplay.css copy just that...
--http://www.gimbalrock.com/spools/v04/game.html
--HAS <div class="boardSection">
--Find a better way to deal with css
--http://www.cssreflex.com/2010/05/10-best-css-editors.html/
--http://www.skybound.ca/stylizer/videos/#automation
--Placement Mode on Automation Video 1:24

++++++++++++++ TEMP CLIPBOARD SAVE ++++++++++++++++++++++
#PGSpoolsContainer {
	/* This container starts the play grid display */
	/*position:absolute;*/
	position:relative;/* being stacking context */
	width:337px;
	height:339px;
	z-index:4;
	/*
	left: 11px;
	top: 101px;
	*/
	background-image:url(resources/games_spools_bg.png);
	background-repeat:no-repeat;
}

#PGGridContainer {
	/* This container is just the token grid */
	position:absolute;
	width:285px;
	height:285px;
	z-index:2;
	/*float:right;*/
	bottom: 20px;
	right:23px;
	/*
	left: 79px;
	top: 81px;
	*/
	
}
.PGGrid {
	/* css class for an grid space */
	position:relative;
	/*
	width:50px;
	height:50px;
	*/
	z-index:2;
	margin:5px;
	/*float:left;*/
        color: green;
}
.PGToken {
	/* this is the PlayGameToken */
    	background-image:url(resources/CoinIcon.png);
	background-repeat:no-repeat;
	-webkit-background-size: cover;
        -moz-background-size: cover;
        -o-background-size: cover;
        background-size: cover;
}

<div id="CATCRAP">
<div id="gameContainer">
<div id="gameBG">
<div class="boardSection">
<table id="PGGridContainer" class="center" border="1" cellspacing='0px'>
<caption>Game Grid</caption>
<tr><th colspan=2 rowspan=2><th colspan=5><span id="gridTeamNameA"><%= game["TeamNameA"] %></span>
<tr><th class="PGSpoolsScoreGrid">x/x<th class="PGSpoolsScoreGrid">x/x<th class="PGSpoolsScoreGrid">x/x<th class="PGSpoolsScoreGrid">x/x<th class="PGSpoolsScoreGrid">x/x
<tr><th rowspan=5><span id="gridTeamNameB"><%= game["TeamNameB"] %></span>
<th>x/x
<%var a = 0; var r = 1; for(var i = 0; i < tokens.length ; i++){ a++; %>
    <%if( a == 6 ) { a = 1; r++; %> <tr class="PGSpoolsScoreGrid"><th>x/x <%}%>
	<td <%= tokens[i]%> class="PGGrid" <% if (tokens[i].idOwner == 'game') {%> class="theCrap" <%}%> >
		<%= $.View('//spools/views/token/icon',tokens[i])%>
	</td>
<%}%>
</table>
</div>
</div>
</div>
</div>

--http://www.gimbalrock.com/spools/v04/officialspanel.html
--http://www.gimbalrock.com/spools/v04/newgame.html
--http://www.gimbalrock.com/spools/v04/officialspanel.html

--OK... ran into an issue with the update, it does not pick up the edit text input and pass to the server.
--I traced this through and couldn't figure it out... so I'm going to start from ground zero in a complete rebuild.
--I figure I'll start from the new version of javascriptMVC also...
--Now figure out what the hell to call it..
--OK... I'm going to pull down the 3.1.0 zip and recreate from that.
--I'll call it javascriptmvc310
--SO go follow the README http://github.com/christrees/javascriptmvc310

--Lets commit this
--SAVE THIS README
C:\Users\ChrisT\workspace\javascriptmvc305>git add .
C:\Users\ChrisT\workspace\javascriptmvc305>git commit -m "Update Error swithcing to javascriptmvc310 and rebuilding"
C:\Users\ChrisT\workspace\javascriptmvc305>git push origin spools
[cat@gator1209 ~/public_html/javascriptmvc305]$ git fetch
[cat@gator1209 ~/public_html/javascriptmvc305]$ rm gamebrdbank.spools
[cat@gator1209 ~/public_html/javascriptmvc305]$ git checkout remotes/origin/spools
<<<<<<<<<<<<<<<<<
>>>>>STEP x - TEST
<<<<<<<<<<<<<<<<<
Browse - http://js.javascriptmvc305/spools/spools.html
SUCCESS>>
?FAILURE>>
??WHAT?>>

======================================================================================
------- copy buffer --------------
?????????????????????????????????
<<<<<<<<<<<<<<<<<
>>>>>STEP x - <step subject>
<<<<<<<<<<<<<<<<<
--WHAT the heck to do next... how about blahblah
--Lets commit this
--SAVE THIS README
C:\Users\ChrisT\workspace\javascriptmvc305>git add .
C:\Users\ChrisT\workspace\javascriptmvc305>git commit -m "blah blah"
C:\Users\ChrisT\workspace\javascriptmvc305>git push origin spools
[cat@gator1209 ~/public_html/javascriptmvc305]$ git fetch
[cat@gator1209 ~/public_html/javascriptmvc305]$ rm gamebrdbank.spools
[cat@gator1209 ~/public_html/javascriptmvc305]$ git checkout remotes/origin/spools
<<<<<<<<<<<<<<<<<
>>>>>STEP x - TEST
<<<<<<<<<<<<<<<<<
Browse - http://js.javascriptmvc305/spools/spools.html
SUCCESS>>
?FAILURE>>
??WHAT?>>
???????????????????????????????????????
>>>>>UNUSED / NEXT BUG ID BIN<<<<<
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>BUG:3 BEGIN
<<<<<BUG:3 END
>>>>>BUG:4 BEGIN
<<<<<BUG:4 END
>>>>>BUG:5 BEGIN
<<<<<BUG:5 END
>>>>>BUG:6 BEGIN
<<<<<BUG:6 END
>>>>>BUG:7 BEGIN
<<<<<BUG:7 END
>>>>>BUG:8 BEGIN
<<<<<BUG:8 END
>>>>>BUG:9 BEGIN
<<<<<BUG:9 END